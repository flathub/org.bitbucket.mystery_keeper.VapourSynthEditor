name: VapourSynth
modules:
  - name: libass
    config-opts:
      - --disable-static
      - --enable-asm
      - --enable-harfbuzz
      - --enable-fontconfig
    sources:
      - type: archive
        url: https://github.com/libass/libass/releases/download/0.15.2/libass-0.15.2.tar.xz
        sha256: 1be2df9c4485a57d78bb18c0a8ed157bc87a5a8dd48c661961c625cb112832fd
        x-checker-data:
          type: anitya
          project-id: 1560
          stable-only: true
          url-template: https://github.com/libass/libass/releases/download/$version/libass-$version.tar.xz
      - type: script
        dest-filename: autogen.sh
        commands:
          - autoreconf -fiv

  - name: zimg
    config-opts:
      - --disable-static
    sources:
      - type: archive
        url: https://github.com/sekrit-twc/zimg/archive/release-3.0.3.tar.gz
        sha256: 5e002992bfe8b9d2867fdc9266dc84faca46f0bfd931acc2ae0124972b6170a7
        x-checker-data:
          type: anitya
          project-id: 13685
          stable-only: true
          url-template: https://github.com/sekrit-twc/zimg/archive/release-$version.tar.gz
    cleanup:
      - /share/doc

  - name: Tesseract
    config-opts:
      - --disable-static
    modules:
      - name: Leptonica
        config-opts:
          - --disable-static
          - --with-pic
        sources:
          - type: archive
            url: http://www.leptonica.org/source/leptonica-1.82.0.tar.gz
            sha256: 155302ee914668c27b6fe3ca9ff2da63b245f6d62f3061c8f27563774b8ae2d6
            x-checker-data:
              type: anitya
              project-id: 1549
              stable-only: true
              url-template: http://www.leptonica.org/source/leptonica-$version.tar.gz
        cleanup:
          - /bin
    sources:
      - type: archive
        url: https://github.com/tesseract-ocr/tesseract/archive/4.1.1.tar.gz
        sha256: 2a66ff0d8595bff8f04032165e6c936389b1e5727c3ce5a27b3e059d218db1cb
        # x-checker-data:
        #   type: anitya
        #   project-id: 4954
        #   stable-only: true
        #   url-template: https://github.com/tesseract-ocr/tesseract/archive/$version.tar.gz
    cleanup:
      - /bin

  - name: ImageMagick
    config-opts:
      - --disable-static
      - --disable-docs
      - --with-hdri
      - --with-pic
    sources:
      - type: archive
        url: https://github.com/ImageMagick/ImageMagick/archive/7.1.0-8.tar.gz
        sha256: 3d9b31ff6eb8408cf610c8bbb820b5e46010c21aecc1296b905be60ee1d127a7
        x-checker-data:
          type: anitya
          project-id: 1372
          stable-only: true
          url-template: https://github.com/ImageMagick/ImageMagick/archive/$version.tar.gz
    cleanup:
      - /bin
      - /etc
      - /lib/ImageMagick*
      - /share/ImageMagick*
sources:
  - type: archive
    url: https://github.com/vapoursynth/vapoursynth/archive/R56.tar.gz
    sha256: 15b325da458c9ee56aca22625737afe40c761a68ef74227fd7679f3fc595ee41
    x-checker-data:
      type: anitya
      project-id: 15982
      stable-only: true
      url-template: https://github.com/vapoursynth/vapoursynth/archive/$version.tar.gz
